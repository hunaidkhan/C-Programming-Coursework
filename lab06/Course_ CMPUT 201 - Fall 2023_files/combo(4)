YUI.add("moodle-block_eclass_course_management-archive-module",function(t,e){M.blocks_eclasscoursemanagement=M.blocks_eclasscoursemanagement||{},M.blocks_eclasscoursemanagement.archive_confirm_dialouge_multiple_instructors="<p>{{get_string \"archivingconfirmationmessagemultipleinstructor\" component}}</p>    <ul style='max-height: 150px; overflow-y: scroll; list-style-position: inside;'>    {{#each instructors}}        <li>{{firstname}} {{lastname}}</li>    {{/each}}    </ul><hr><p>    <input type='checkbox' name='emailothers' id='block_eclass_course_management_emailothers_checkbox' checked>     {{get_string \"archivesendnotificationmessage\" component}}</p>",M.blocks_eclasscoursemanagement.archive_confirm_dialouge_single_instructor='<p>{{get_string "archivingconfirmationmessagesingleinstructor" component}}</p>',M.blocks_eclasscoursemanagement.current_term_error_dialogue_body_template='<div><p>{{get_string "currenttermerrordialogue" component}}</p><div class="availability-buttons mdl-align"><button type="button" class="btn btn-default">'+M.str.moodle.closebuttontitle+"</button></div></div>",M.blocks_eclasscoursemanagement.current_term_error_dialogue_text_template='<p>{{get_string "currenttermerrordialogue" component}}</p>',M.blocks_eclasscoursemanagement=M.blocks_eclasscoursemanagement||{},M.blocks_eclasscoursemanagement.component="block_eclass_course_management",M.blocks_eclasscoursemanagement.encode_url_parameters=function(e){var o,s="";for(o in e)""!==s&&(s+="&"),s+=o+"="+encodeURIComponent(e[o]);return s},M.blocks_eclasscoursemanagement=M.blocks_eclasscoursemanagement||{},M.blocks_eclasscoursemanagement.course_queue_for_archiving=function(e,o){var s=M.cfg.wwwroot+"/blocks/eclass_course_management/queue-for-archiving.php",e={sesskey:M.cfg.sesskey,course:e,notifyothers:o?1:0};window.location.href=s+"?"+M.blocks_eclasscoursemanagement.encode_url_parameters(e)},M.blocks_eclasscoursemanagement.course_unqueue_for_archiving=function(e){var o=M.cfg.wwwroot+"/blocks/eclass_course_management/unqueue-for-archiving.php",e={sesskey:M.cfg.sesskey,course:e};window.location.href=o+"?"+M.blocks_eclasscoursemanagement.encode_url_parameters(e)},M.blocks_eclasscoursemanagement.course_unarchive=function(e){var o=M.cfg.wwwroot+"/blocks/eclass_course_management/unarchive.php",e={sesskey:M.cfg.sesskey,course:e};window.location.href=o+"?"+M.blocks_eclasscoursemanagement.encode_url_parameters(e)},M.blocks_eclasscoursemanagement=M.blocks_eclasscoursemanagement||{},M.blocks_eclasscoursemanagement.archive_confirm_dialogue=function(e){this._instructors=e.instructors,this._current_user=e.current_user,this._course_id=e.course_id,e.question=this.question_content(),M.blocks_eclasscoursemanagement.archive_confirm_dialogue.superclass.constructor.apply(this,[e])},t.extend(M.blocks_eclasscoursemanagement.archive_confirm_dialogue,M.core.confirm,{_instructors:[],_current_user:[],initializer:function(e){this.on("complete-yes",function(){var e=this.notify_others();M.blocks_eclasscoursemanagement.course_queue_for_archiving(this._course_id,e)}),this.on("complete-no",function(){})},question_content:function(){var e="",o=t.Array.filter(this._instructors,function(e){return e.id!==this._current_user.id},this),e=1<=o.length?t.Handlebars.compile(M.blocks_eclasscoursemanagement.archive_confirm_dialouge_multiple_instructors)({component:M.blocks_eclasscoursemanagement.component,instructors:o}):t.Handlebars.compile(M.blocks_eclasscoursemanagement.archive_confirm_dialouge_single_instructor)({component:M.blocks_eclasscoursemanagement.component});return e},notify_others:function(){return this.bodyNode.one('[name="emailothers"]')&&this.bodyNode.one('[name="emailothers"]').get("checked")}},{NAME:"blocks_eclasscoursemanagement_archive_confirm_dialogue"}),M.blocks_eclasscoursemanagement=M.blocks_eclasscoursemanagement||{},M.blocks_eclasscoursemanagement.init=function(o,s,n,c){var e=t.one("#archive_dialogue"),r=!!e;r&&e.on("click",function(e){c?new M.blocks_eclasscoursemanagement.current_term_error_dialogue({modal:"true",closeButton:!1}).show():new M.blocks_eclasscoursemanagement.archive_confirm_dialogue({modal:"true",draggable:!0,instructors:o,current_user:s,course_id:n})})},M.blocks_eclasscoursemanagement=M.blocks_eclasscoursemanagement||{},M.blocks_eclasscoursemanagement.current_term_error_dialogue=function(e){var o=t.Node.create(this.body_content()),s=o.one("button");s.on("click",function(){this.destroy()},this),e.bodyContent=o,e.question=this.text_content(),M.blocks_eclasscoursemanagement.current_term_error_dialogue.superclass.constructor.apply(this,[e])},t.extend(M.blocks_eclasscoursemanagement.current_term_error_dialogue,M.core.dialogue,{initializer:function(e){},text_content:function(){return t.Handlebars.compile(M.blocks_eclasscoursemanagement.current_term_error_dialogue_text_template)({component:M.blocks_eclasscoursemanagement.component})},body_content:function(){return t.Handlebars.compile(M.blocks_eclasscoursemanagement.current_term_error_dialogue_body_template)({component:M.blocks_eclasscoursemanagement.component})}},{NAME:"blocks_eclasscoursemanagement_current_term_error_dialogue"})},"@VERSION@",{requires:["base","node","event","event-key","io","moodle-core-notification-confirm","moodle-core-notification-dialogue","moodle-core-notification-alert","handlebars","array-extras"]});